# Logstash config file for client machines that send log events to a central Redis server
# (Paths need to be customized)

# Inputs come from application log files in JSON format
input {
  # OPC UA simulation server "hardware"
  file {
    type => "hardware"
    path => ["/Users/abrighto/work/tmt/csw/csw-opc-ua/hardware/target/universal/stage/bin/hardware.log"]
    tags => [ "hardware" ]
    codec => "json"
  }
  # OPC UA testclient
  file {
    type => "testclient"
    path => ["/Users/abrighto/work/tmt/csw/csw-opc-ua/testclient/target/universal/stage/bin/testclient.log"]
    tags => [ "testclient" ]
    codec => "json"
  }
  file {
    type => "container1"
    path => ["/Users/abrighto/work/tmt/csw/csw-pkg-demo/container1/target/universal/stage/bin/container1.log"]
    tags => [ "container1" ]
    codec => "json"
  }
  file {
    type => "container2"
    path => ["/Users/abrighto/work/tmt/csw/csw-pkg-demo/container2/target/universal/stage/bin/container2.log"]
    tags => [ "container2" ]
    codec => "json"
  }
}

# Output goes to Redis on the central log server (replace localhost with the server name or IP address)
output {
  stdout { }
  redis { host => "localhost" data_type => "list" key => "logstash" }
}
