@(status: CommandServiceStatus)
@import org.tmt.csw.cmd.akka.CommandServiceActor.CommandServiceStatus
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Status for @status.name</title>
        <link rel="stylesheet" href="status.css">
    </head>
    <body>
        <table>
            <caption>
                <h2>Status for @status.name</h2>
            </caption>
            <colgroup>
                <col id="column0">
                <col id="column1">
            </colgroup>
            <tbody>
                <tr>
                    <th scope="row">Queue State:</th>
                    <td>@status.queueStatus.status</td>
                </tr>
                <tr>
                    <th scope="row">Queue Contents:</th>
                    <td>
                    @{
                        val q = status.queueStatus.queueMap; if(q.isEmpty) "empty" else q.size + " commands"
                    }
                    </td>
                </tr>
                <tr>
                    <th scope="row">Submit Count:</th>
                    <td>@status.queueStatus.count</td>
                </tr>
                <tr>
                    <th scope="row">Queue Controller:</th>
                    <td>@status.queueControllerClass</td>
                </tr>
                @if(!status.registryStatus.isEmpty) {
                    <tr>
                        <th scope="row">Registry Contents:</th>
                        <td>
                            <table>
                            @for(entry <- status.registryStatus.get.registry) {
                                <tr>
                                    <td>@entry.path </td>
                                    <td>@entry.actorRef.path</td>
                                </tr>
                            }
                            </table>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </body>
</html>
